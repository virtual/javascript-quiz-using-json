!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["js-quiz-using-json"]=e():t["js-quiz-using-json"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";!function(t,e){function n(t,e){return Object.assign({},t,e)}function r(t){try{JSON.parse(t)}catch(t){return!1}return!0}function i(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(t){this.status>=200&&this.status<300?e(r.response):n({status:this.status,statusText:r.statusText})},r.onerror=function(){n({status:this.status,statusText:r.statusText})},r.send()})}function o(t){return t&&t.length>-1?t.reduce(function(t,e){return t+e}):0}function u(t){S.answers.push(t)}function s(t,e){if(S.question.count===e)return f(S);var n=t[e];return m(n.question,n.options)}function a(t){for(var e=t.length,n=void 0,r=void 0;e;)n=Math.floor(Math.random()*e--),r=t[e],t[e]=t[n],t[n]=r;return t}function d(t,e){var n=t.data[0].questions,r=t.question.current,i=s(n,r);t.question.current+=1,v(i,e.id)}function c(t,n,i){if(!1===r(t))return void v("<p>The JSON data provided is not valid! Please check this and retry</p>",n.id);i.data=JSON.parse(t),i.question.count=i.data[0].questions.length,!0===n.random&&(i.data=a(i.data)),h(e),d(i,n)}function f(t){var e=o(t.answers),n="Scories!";t.answers.forEach(function(t,e){n+="#"+e+" -- "});var r=(t.answers.length,l(e,t.data[1].results));return"<h3>Quiz Complete - you answered {num} questions</h3><br>{scories}<br><h4>"+r.title+"</h4><p>"+r.description+"</p>\n        <p>Your score was: "+e+" questions: "+t.question.count+"</p>"}function l(t,e){var n={};return e.forEach(function(e){t>=e.minScore&&(n=e)}),n}function p(t,e){return'<form id="quizForm"><p>'+t+'</p>\n          <button id="nextQuestion" type="submit" class="btn btn-default">'+(e?"Finish Quiz":"Next Question")+"</button>\n        </form>"}function m(t,e){var n=S.question.count===S.question.current+1,r='<div id="quizForm">\n                  <div>PROGRESS BAR HERE</div>\n                  <p>'+t+"</p>";return e?e.forEach(function(t,e){r+='<div class="radio">\n            <label>\n              <input type="radio" name="quizAnswer" required value="'+(e+1)+'">\n              '+t+"\n            </label>\n          </div>"}):r+="<div>Error! No options provided!</div>",r+='<button id="nextQuestion" type="submit" class="btn btn-default">\n          '+(n?"Finish Quiz":"Next")+"\n          </button>\n        </div>"}function v(t,n){var r=e.getElementById(n);r&&r.remove();var i=e.createElement("form");i.setAttribute("id",n),i.innerHTML=t,e.getElementById("myQuiz").appendChild(i)}function h(t){t.addEventListener("submit",function(e){if(e.preventDefault(),e.target.id===g.id){var n=t.getElementsByName("quizAnswer");u(parseInt(Array.from(n).find(function(t,e){return n[e].checked}).value)),d(S,g)}})}function b(t){function e(t){c(t,g,S)}function r(t){return v("<p>Sorry, we are unable to retrieve the data for this quiz.</p>\n            <small>Try checking the dateSource provided: "+g.dataSource+"</small>",g.id)}g=n(x,t),!0===g.seed&&(g.dataSource=g.seedData),i(g.dataSource).then(e,r)}var q=void 0,y=void 0,g=void 0,x={dataSource:null,loadingGif:null,seedData:"./data/data.json",id:"quiz",randomise:!1,seed:!1},S={question:{current:0,count:0},answers:[],data:{}};y={VERSION:"0.5.1-alpha",state:S,init:b,bindSubmit:h,renderTemplate:v,questionTemplate:m,informationTemplate:p,resultMessage:l,end:f,start:c,nextQuestion:d,randomiseQuestions:a,getTemplate:s,updateScore:u,getScore:o,getQuizData:i,isValid:r,extend:n},q=t.Quiz={VERSION:"0.5.1-alpha",init:b},q.__TEST__=y}(window,document)}])});
//# sourceMappingURL=quiz.umd.min.js.map